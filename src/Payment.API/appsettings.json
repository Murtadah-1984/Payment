{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Host=localhost;Port=5432;Database=PaymentDb;Username=postgres;Password=postgres"
  },
  "Auth": {
    "Authority": "https://identity.yourdomain.com",
    "Audience": "payment-service"
  },
  "PaymentProviders": {
    "ZainCash": {
      "BaseUrl": "https://api.zaincash.iq/",
      "MerchantId": "",
      "MerchantSecret": "",
      "Msisdn": "",
      "RedirectUrl": "https://yourdomain.com/api/v1/payments/zaincash/callback",
      "ServiceType": "Payment",
      "IsTestMode": true,
      "WebhookSecret": "your-zaincash-webhook-secret-key-here"
    },
    "AsiaHawala": {
      "BaseUrl": "https://api.asiahawala.com/",
      "ApiKey": "",
      "MerchantId": "",
      "MerchantSecret": "",
      "IsTestMode": true
    },
    "Stripe": {
      "BaseUrl": "https://api.stripe.com/v1/",
      "ApiKey": "",
      "PublishableKey": "",
      "IsTestMode": true
    },
    "FIB": {
      "BaseUrl": "https://fib.stage.fib.iq",
      "ClientId": "",
      "ClientSecret": "",
      "StatusCallbackUrl": "https://yourdomain.com/api/v1/payments/fib/callback",
      "IsTestMode": true,
      "WebhookSecret": "your-fib-webhook-secret-key-here"
    },
    "Square": {
      "BaseUrl": "https://connect.squareup.com/v2/",
      "AccessToken": "",
      "ApplicationId": "",
      "LocationId": "",
      "IsTestMode": true
    },
    "Helcim": {
      "BaseUrl": "https://api.helcim.com/v2/",
      "ApiToken": "",
      "IsTestMode": true
    },
    "Amazon": {
      "BaseUrl": "https://paymentservices.amazon.com/",
      "AccessCode": "",
      "MerchantIdentifier": "",
      "ShaRequestPhrase": "",
      "ShaResponsePhrase": "",
      "ShaType": "SHA256",
      "Language": "en",
      "ReturnUrl": "https://yourdomain.com/api/v1/payments/amazon/callback",
      "IsTestMode": true
    },
    "Telr": {
      "BaseUrl": "https://secure.telr.com/gateway/",
      "StoreId": "",
      "AuthKey": "",
      "ReturnUrl": "https://yourdomain.com/api/v1/payments/telr/callback",
      "CancelUrl": "https://yourdomain.com/api/v1/payments/telr/cancel",
      "DeclineUrl": "https://yourdomain.com/api/v1/payments/telr/decline",
      "IsTestMode": true,
      "WebhookSecret": "your-telr-webhook-secret-key-here"
    },
    "Checkout": {
      "BaseUrl": "https://api.checkout.com/",
      "SecretKey": "",
      "PublicKey": "",
      "ClientId": "",
      "ClientSecret": "",
      "UseOAuth": false,
      "IsTestMode": true
    },
    "Verifone": {
      "BaseUrl": "https://api.2checkout.com/rest/6.0/",
      "SellerId": "",
      "SecretKey": "",
      "PublishableKey": "",
      "IsTestMode": true
    },
    "Paytabs": {
      "BaseUrl": "https://secure.paytabs.com/",
      "ProfileId": "",
      "ServerKey": "",
      "ClientKey": "",
      "ReturnUrl": "https://yourdomain.com/api/v1/payments/paytabs/callback",
      "IsTestMode": true
    },
    "Tap": {
      "BaseUrl": "https://api.tap.company/v2/",
      "SecretKey": "",
      "PublishableKey": "",
      "IsTestMode": true
    },
    "TapToPay": {
      "BaseUrl": "https://api.tap.company/v2/",
      "SecretKey": "",
      "PublishableKey": "",
      "IsTestMode": true,
      "ReplayPreventionEnabled": true
    }
  },
  "Serilog": {
    "Using": [ "Serilog.Sinks.Console", "Serilog.Sinks.File" ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] {Message:lj}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "logs/payment-.txt",
          "rollingInterval": "Day",
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] {Message:lj}{NewLine}{Exception}"
        }
      }
    ]
  },
  "IpRateLimiting": {
    "EnableEndpointRateLimiting": true,
    "StackBlockedRequests": false,
    "RealIpHeader": "X-Real-IP",
    "ClientIdHeader": "X-ClientId",
    "HttpStatusCode": 429,
    "GeneralRules": [
      {
        "Endpoint": "POST:/api/v1/payments",
        "Period": "1m",
        "Limit": 10
      },
      {
        "Endpoint": "*:/api/v*/admin/*",
        "Period": "1m",
        "Limit": 100
      },
      {
        "Endpoint": "*",
        "Period": "1h",
        "Limit": 1000
      }
    ]
  },
  "OpenTelemetry": {
    "UseConsoleExporter": true,
    "Jaeger": {
      "Host": "localhost",
      "Port": 6831
    },
    "Zipkin": {
      "Endpoint": ""
    }
  },
  "FeatureManagement": {
    "NewPaymentProvider": true,
    "SplitPayments": true,
    "RefundSupport": true,
    "FraudDetection": {
      "EnabledFor": [
        {
          "Name": "Percentage",
          "Parameters": {
            "Value": 50
          }
        }
      ]
    },
    "AdvancedReporting": true,
    "MultiCurrencySettlement": false,
    "ThreeDSecure": false
  },
  "Webhooks": {
    "MaxRetries": 5,
    "DefaultUrl": "",
    "Merchants": {
      "merchant-id-1": {
        "Url": "https://merchant1.example.com/webhooks/payment"
      },
      "merchant-id-2": {
        "Url": "https://merchant2.example.com/webhooks/payment"
      }
    }
  },
  "Settlement": {
    "Currency": "USD",
    "Enabled": true
  },
  "Reporting": {
    "BaseCurrency": "USD"
  },
  "Security": {
    "IpWhitelist": {
      "Enabled": false,
      "AllowedIps": []
    }
  },
  "FraudDetection": {
    "Enabled": false,
    "BaseUrl": "https://api.fraud-detection-service.com/",
    "ApiKey": ""
  },
  "AlertRules": {
    "PaymentFailure": {
      "Critical": {
        "Threshold": "> 10 failures in 5 minutes",
        "Channels": [ "PagerDuty", "Email", "Slack" ]
      },
      "High": {
        "Threshold": "> 5 failures in 5 minutes",
        "Channels": [ "Email", "Slack" ]
      },
      "Medium": {
        "Threshold": "> 2 failures in 5 minutes",
        "Channels": [ "Email" ]
      },
      "Low": {
        "Threshold": "> 0 failures in 5 minutes",
        "Channels": [ "Email" ]
      }
    },
    "SecurityIncident": {
      "Critical": {
        "Threshold": "Any unauthorized access",
        "Channels": [ "PagerDuty", "Email", "SMS" ]
      },
      "High": {
        "Threshold": "Malicious payload detected",
        "Channels": [ "Email", "Slack" ]
      },
      "Medium": {
        "Threshold": "Suspicious authentication",
        "Channels": [ "Email" ]
      },
      "Low": {
        "Threshold": "Rate limit exceeded",
        "Channels": [ "Email" ]
      }
    }
  },
  "Alerting": {
    "Email": {
      "SmtpHost": "smtp.gmail.com",
      "SmtpPort": 587,
      "EnableSsl": true,
      "Username": "",
      "Password": "",
      "FromAddress": "alerts@yourdomain.com",
      "ToAddresses": [ "admin@yourdomain.com", "ops@yourdomain.com" ]
    },
    "Slack": {
      "WebhookUrl": "",
      "Channel": "#alerts",
      "Username": "Payment Service"
    },
    "PagerDuty": {
      "IntegrationKey": ""
    },
    "SMS": {
      "Provider": "Twilio",
      "PhoneNumbers": [ "+1234567890" ],
      "TwilioAccountSid": "",
      "TwilioAuthToken": "",
      "TwilioFromNumber": "",
      "AwsSnsTopicArn": "",
      "AwsRegion": "us-east-1"
    }
  }
}

