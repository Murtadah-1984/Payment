{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning",
      "Microsoft.EntityFrameworkCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "ConnectionStrings": {
    "DefaultConnection": "Host=${POSTGRES_HOST};Port=${POSTGRES_PORT};Database=${POSTGRES_DB};Username=${POSTGRES_USER};Password=${POSTGRES_PASSWORD}"
  },
  "Auth": {
    "Authority": "${AUTH_AUTHORITY}",
    "Audience": "${AUTH_AUDIENCE}"
  },
  "PaymentProviders": {
    "ZainCash": {
      "IsTestMode": true
    },
    "AsiaHawala": {
      "IsTestMode": true
    },
    "Stripe": {
      "IsTestMode": true
    },
    "FIB": {
      "IsTestMode": true
    },
    "Square": {
      "IsTestMode": true
    },
    "Helcim": {
      "IsTestMode": true
    },
    "Amazon": {
      "IsTestMode": true
    },
    "Telr": {
      "IsTestMode": true
    },
    "Checkout": {
      "IsTestMode": true
    },
    "Verifone": {
      "IsTestMode": true
    },
    "Paytabs": {
      "IsTestMode": true
    },
    "Tap": {
      "IsTestMode": true
    },
    "TapToPay": {
      "IsTestMode": true
    }
  },
  "Serilog": {
    "Using": [ "Serilog.Sinks.Console", "Serilog.Sinks.File" ],
    "MinimumLevel": {
      "Default": "Information",
      "Override": {
        "Microsoft": "Warning",
        "System": "Warning"
      }
    },
    "WriteTo": [
      {
        "Name": "Console",
        "Args": {
          "outputTemplate": "[{Timestamp:HH:mm:ss} {Level:u3}] [{TraceId}] [{SpanId}] {Message:lj}{NewLine}{Exception}"
        }
      },
      {
        "Name": "File",
        "Args": {
          "path": "logs/payment-.txt",
          "rollingInterval": "Day",
          "outputTemplate": "[{Timestamp:yyyy-MM-dd HH:mm:ss.fff zzz} {Level:u3}] [{TraceId}] [{SpanId}] {Message:lj}{NewLine}{Exception}"
        }
      }
    ]
  },
  "IpRateLimiting": {
    "EnableEndpointRateLimiting": true,
    "StackBlockedRequests": false,
    "RealIpHeader": "X-Real-IP",
    "ClientIdHeader": "X-ClientId",
    "HttpStatusCode": 429,
    "GeneralRules": [
      {
        "Endpoint": "POST:/api/v1/payments",
        "Period": "1m",
        "Limit": 20
      },
      {
        "Endpoint": "*:/api/v*/admin/*",
        "Period": "1m",
        "Limit": 200
      },
      {
        "Endpoint": "*",
        "Period": "1h",
        "Limit": 2000
      }
    ]
  },
  "OpenTelemetry": {
    "UseConsoleExporter": true,
    "ServiceName": "Payment.API",
    "ServiceVersion": "1.0.0",
    "ServiceNamespace": "payment",
    "SamplingRatio": 0.5,
    "Jaeger": {
      "Host": "${JAEGER_AGENT_HOST:-localhost}",
      "Port": "${JAEGER_AGENT_PORT:-6831}"
    },
    "Zipkin": {
      "Endpoint": "${ZIPKIN_ENDPOINT:-}"
    },
    "Otlp": {
      "Endpoint": "${OTLP_ENDPOINT:-}"
    }
  },
  "FeatureManagement": {
    "NewPaymentProvider": true,
    "SplitPayments": true,
    "RefundSupport": true,
    "FraudDetection": {
      "EnabledFor": [
        {
          "Name": "Percentage",
          "Parameters": {
            "Value": 30
          }
        }
      ]
    },
    "AdvancedReporting": true,
    "MultiCurrencySettlement": false,
    "ThreeDSecure": false
  },
  "Security": {
    "IpWhitelist": {
      "Enabled": false,
      "AllowedIps": []
    }
  }
}

